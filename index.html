<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.20.7" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  
  <title>Klnsyf</title>
  

  
  <link rel="stylesheet" href="https://klnsyf.github.io/css/poole.css">
  <link rel="stylesheet" href="https://klnsyf.github.io/css/syntax.css">
  <link rel="stylesheet" href="https://klnsyf.github.io/css/hyde.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  <link href="https://klnsyf.github.io/index.xml" rel="alternate" type="application/rss+xml" title="Klnsyf" />
  
  
    &lt;<link rel="stylesheet" href="/css/styles/github.css">
	<script src="/js/highlight.pack.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
	
</head>

<body class=" ">

<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="https://klnsyf.github.io/"><h1>Klnsyf</h1></a>
      <p class="lead">
      </p>
    </div>

    <ul class="sidebar-nav">
      <li><a href="/">Home</a> </li>
      
        <li><a href="/post/java/project-battle-roayle/"> Project [Battle Royale] </a></li>
      
        <li><a href="/post/python/python.init/"> Python_init() </a></li>
      
        <li><a href="/post/ruff/ruff.init/"> Ruff.init() </a></li>
      
        <li><a href="/post/timing/test/"> Test </a></li>
      
        <li><a href="/post/java/battle-roayle-dev-log-1/"> [Battle Royale] Dev Log 1 </a></li>
      
        <li><a href="/post/java/battle-roayle-third-reincarnation/"> [Battle Royale] Third Reincarnation </a></li>
      
        <li><a href="/post/java/battle-royale-update-log---1.0.0/"> [Battle Royale] Update Log - 1.0.0 </a></li>
      
        <li><a href="/post/admin/top-worklist/"> [Top] Schedule </a></li>
      
    </ul>

    <p>&copy; 2017. All rights reserved. </p>
  </div>
</div>


    <div class="content container">
<div class="posts">

      
  <div class="post">
    <h1 class="post-title">
      <a href="https://klnsyf.github.io/post/admin/top-worklist/">
        [Top] Schedule
      </a>
    </h1>

    <span class="post-date">Sat, Apr 13, 3337</span>

    

<p>Hello,这里是<strong><em>Klnsyf Sun</em></strong>.<br />
鉴于接下来<strong>两个月</strong> <em>(2017-07-01~2017-08-31)</em> 中您可能会遇到<strong>包括但不仅限于</strong>:</p>

<blockquote>
<p>本人<strong>失踪</strong>、<strong>失联</strong>、<strong>神隐</strong>、<strong>狂暴</strong>、<strong>升仙</strong>及其<strong>任意组合</strong></p>
</blockquote>

<p>这一类的情况。<br />
建议您在遇到该类情况时认真确认本日程。</p>

<hr />

<blockquote>
<h2 id="schedule">Schedule</h2>
</blockquote>

<p><font color=#66ccff>
<strong><em>2017-07-01</em></strong>: 参观<code>GSMA Mobile World Congress Shanghai</code> - 上海新国际展览中心<br />
<strong><em>2017-07-02</em></strong>: <code>2017年上海市中学生数学知识应用竞赛</code>报名 - 上海市科技艺术教育中心<br />
<strong><em>2017-07-03</em></strong>: <code>SYPT</code>准备 - 上海市松江二中物理实验室<br />
<strong><em>2017-07-04</em></strong>: <code>SYPT</code>准备 - 上海市松江二中物理实验室<br />
<strong><em>2017-07-05</em></strong>: <code>SYPT</code>准备 - 上海市松江二中物理实验室<br />
<strong><em>2017-07-06</em></strong>: <code>SYPT</code>准备 - 上海市松江二中物理实验室<br />
<strong><em>2017-07-07</em></strong>: <code>SYPT</code>准备 - 上海市松江二中物理实验室<br />
<strong><em>2017-07-08</em></strong>: <code>hack.init()</code> - 上海科技大学<br />
<strong><em>2017-07-09</em></strong>: <code>hack.init()</code> - 上海科技大学<br />
<strong><em>2017-07-10</em></strong>: <code>SYPT</code>准备 - 上海市松江二中物理实验室<br />
<strong><em>2017-07-11</em></strong>: <code>SYPT</code>准备 - 上海市松江二中物理实验室<br />
<strong><em>2017-07-12</em></strong>: <code>SYPT</code>准备 - 上海市松江二中物理实验室<br />
<strong><em>2017-07-13</em></strong>: <code>SYPT</code>准备 - 上海市松江二中物理实验室<br />
<strong><em>2017-07-14</em></strong>: <code>SYPT</code> - 上海交通大学<br />
<strong><em>2017-07-15</em></strong>: <code>SYPT</code> - 上海交通大学<br />
<strong><em>2017-07-16</em></strong>: <code>SYPT</code> - 上海交通大学<br />
<em>2017-07-17</em>:<br />
<em>2017-07-18</em>:<br />
<em>2017-07-19</em>:<br />
<strong><em>2017-07-20</em></strong>: <strong><font color=white>神隐 - <em>Undefinded</em> </font></strong><br />
<strong><em>2017-07-21</em></strong>: <strong><font color=white>神隐 - <em>Undefinded</em> </font></strong><br />
<strong><em>2017-07-22</em></strong>: <strong><font color=white>神隐 - <em>Undefinded</em> </font></strong><br />
<strong><em>2017-07-23</em></strong>: <strong><font color=white>神隐 - <em>Undefinded</em> </font></strong><br />
<em>2017-07-24</em>:<br />
<em>2017-07-25</em>:<br />
<em>2017-07-26</em>:<br />
</font>
<em>2017-07-27</em>:<br />
<strong><em>2017-07-28</em></strong>: <code>2017年上海市中学生数学建模活动</code> - <em>Undefinded</em><br />
<strong><em>2017-07-29</em></strong>: <code>2017年上海市中学生数学建模活动</code> - <em>Undefinded</em><br />
<strong><em>2017-07-30</em></strong>: <code>2017年上海市中学生数学建模活动</code> - <em>Undefinded</em><br />
<em>2017-07-31</em>:<br />
<em>2017-08-01</em>:<br />
<strong><em>2017-08-02</em></strong>: <strong>数学是人类进步的阶梯</strong> - 杭州<br />
<strong><em>2017-08-03</em></strong>: <strong>数学是思维的体操</strong> - 杭州<br />
<strong><em>2017-08-04</em></strong>: <strong>我爱数学, 数学使我快乐!</strong> - 杭州<br />
<strong><em>2017-08-05</em></strong>: <strong>数学予人神之力</strong> - 杭州<br />
<strong><em>2017-08-06</em></strong>: <strong>我只有数学, 所以我无所畏惧</strong> - 杭州<br />
<strong><em>2017-08-07</em></strong>: <strong>304 Not mathematical</strong> - 杭州<br />
<strong><em>2017-08-08</em></strong>: <strong>神还什么都没有说,就出现了数学</strong> - 杭州<br />
<strong><em>2017-08-09</em></strong>: <strong>You felt mathematics crawling on your back</strong> - 杭州<br />
<strong><em>2017-08-10</em></strong>: <strong>I’m on the top of mathematics, top of your world</strong> - 杭州<br />
<strong><em>2017-08-11</em></strong>: <strong>人类在神圣的沉默中学会数学</strong> - 杭州<br />
<em>2017-08-12</em>:<br />
<em>2017-08-13</em>:<br />
<strong><em>2017-08-14</em></strong>: <strong><font color=white ><em>Birthday</em> - <em>Undefinded</em> </font></strong><br />
<em>2017-08-15</em>:<br />
<em>2017-08-16</em>:<br />
<em>2017-08-17</em>:<br />
<em>2017-08-18</em>:<br />
<em>2017-08-19</em>:<br />
<em>2017-08-20</em>:<br />
<em>2017-08-21</em>:<br />
<em>2017-08-22</em>:<br />
<em>2017-08-23</em>:<br />
<em>2017-08-24</em>:<br />
<em>2017-08-25</em>:<br />
<em>2017-08-26</em>:<br />
<em>2017-08-27</em>:<br />
<em>2017-08-28</em>:<br />
<em>2017-08-29</em>:<br />
<em>2017-08-30</em>:<br />
<em>2017-08-31</em>:</p>

<blockquote>
<h2 id="work-list">Work List:</h2>

<p><strong>1</strong>. Project <strong><em>[Battle Royale]</em></strong>: <em><a href="https://github.com/klnsyf/BattleRoyale">https://github.com/klnsyf/BattleRoyale</a></em><br />
<strong>2</strong>. Project <strong><em>[Battle Royale Kit]</em></strong>: <em><a href="https://github.com/klnsyf/BattleRoyaleKit">https://github.com/klnsyf/BattleRoyaleKit</a></em><br />
<strong>3</strong>. Project <strong><em>Momento</em></strong><br />
<strong>4</strong>. &lt; !&ndash;<strong>Secret</strong>&ndash;&gt;<br />
<strong>5</strong>. &lt; !&ndash;<strong>Secret</strong>&ndash;&gt;<br />
<strong>6</strong>. &lt; !&ndash;<strong>Secret</strong>&ndash;&gt;</p>
</blockquote>

<hr />

<blockquote>
<p><strong>注意事项</strong>:<br />
<strong>1</strong>. 本日程最近一次更新: <strong><em>2017-07-26 17:26</em></strong>, 有随时更改的可能.<br />
<strong>2</strong>. 即使本日程中该日无事项, 本人仍有可能神隐, 包括但不仅限于以下及其任意组合的原因:<br />
　　1) 本人正在更新本日程.<br />
　　2) 本人正在完成Work List中的任务.<br />
　　3) 出现了紧急事件(包括但不仅限于不可抗力).<br />
<strong>3</strong>. 若有疑问请善用下方评论区.</p>
</blockquote>
<hr />

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="https://klnsyf.github.io/post/java/battle-royale-update-log---1.0.0/">
        [Battle Royale] Update Log - 1.0.0
      </a>
    </h1>

    <span class="post-date">Tue, Jun 27, 2017</span>

    

<h1 id="draft">&lt; !&ndash;Draft&ndash;&gt;</h1>

<p><strong><em>[Battle Royale]</em></strong>已更新*1.0.0*版本, 以下是更新日志:</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="https://klnsyf.github.io/post/python/python.init/">
        Python_init()
      </a>
    </h1>

    <span class="post-date">Sat, Jun 24, 2017</span>

    <p>// <strong>TODO</strong></p>

<blockquote>
<p>本日志包含反转义错误 [斜眼]</p>
</blockquote>

<p><code><pre>
from cmath import *
from random import *</p>

<p>minRange=1337
maxRange=11037
spreadDistance=7734
spreadSpace=917</p>

<p>def spreadAttempt(attempt):
    randomRadian=[]
    for index in range(attempt):
        randomRadian.append(random()*2*pi)
    legelRadian=[]
    for radian in randomRadian:
        if(abs(spreadDistance*cos(radian))<minRange
           or abs(spreadDistance*cos(radian))>maxRange
           or abs(spreadDistance*sin(radian))<minRange
           or abs(spreadDistance*sin(radian))>maxRange
           or spreadSpaceTest(radian,legelRadian)):
            continue
        else:
            legelRadian.append(radian)
    for radian in legelRadian:
        print(str(spreadDistance*cos(radian))+&ldquo;,&rdquo;+str(spreadDistance*sin(radian)))
    print(len(legelRadian))</p>

<p>def spreadSpaceTest(testRadian,radianList):
    for radian in radianList:
        if((abs(float(testRadian) - float(radian)))&lt;abs(2*asin(spreadSpace/2/spreadDistance))):
            return True
            break
    return False</p>

<p>spreadAttempt(10000)
</code></pre></p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="https://klnsyf.github.io/post/ruff/ruff.init/">
        Ruff.init()
      </a>
    </h1>

    <span class="post-date">Sat, Jun 24, 2017</span>

    <p>反正这只<code>Ruff</code>我先抱走了.</p>


<figure >
    
        <img src="/images/Ruff-logo.png" />
    
    
</figure>


  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="https://klnsyf.github.io/post/java/battle-roayle-third-reincarnation/">
        [Battle Royale] Third Reincarnation
      </a>
    </h1>

    <span class="post-date">Mon, May 29, 2017</span>

    <p><strong>[<em>Battle Royale</em>]</strong> 已进入第<strong>三</strong>轮回.<br />
<strong>版本号</strong>回归至 <em>v0.2.0 (2017-05-29)</em><br />
<strong>主要</strong>改动如下:<br />
++ 仅支持使用<code>Java 8</code>且版本<strong>不低于1.11</strong>的服务器.<br />
++ 面向<strong>开发者</strong>的更新。<br />
++++ <strong>1.</strong> 添加了GameStartEvent,GameLoadEvent,GameEndEvent,SummonBlazeEvent,可以被其他插件<strong>监听</strong>和<strong>调用</strong>.<br />
++++ <strong>2.</strong> 所有事件监听器的<strong>优先级</strong>上升一级,以保护<strong>防作弊</strong>插件对于事件的控制.<br />
++ 修改了部分<strong>特性</strong>的处理方式.<br />
++++ <strong>1.</strong> 添加了<strong>加入游戏</strong>的<strong>指令</strong>及相关<strong>权限</strong>.<br />
++++ <strong>2.</strong> 更改了<strong>铁块</strong>加速边界收缩的功能.<br />
++++++ 当剩余人数大于 <em>32(可在配置文件中更改)</em> 人时,该功能会被<strong>禁用</strong>.<br />
++++++ 当剩余人数大于 <em>16(可在配置文件中更改)</em> 人时,每人<strong>最多</strong>可以使用<strong>2</strong>次.<br />
++++++ 当剩余人数大于 <em>8(可在配置文件中更改)</em> 人时,冷却时间<strong>加倍</strong>.<br />
++++++ 当剩余人数不大于 <em>8(可在配置文件中更改)</em> 人时,与旧版本处理方式相同.<br />
++++ <strong>3.</strong> 更改了<strong>指南针</strong>的功能.<br />
++++++ <strong>不</strong>再显示<strong>幸存者</strong>的名字.<br />
++++++ <em>(可在配置文件中启用,默认关闭)</em> 可以<strong>右键使用</strong>代替丢出以使用指南针.<br />
++++ <strong>4.</strong> <strong>暂时</strong>去除了<strong>警戒线</strong>的设置.<br />
++++ <strong>5.</strong> 现在,如果<strong>世界中心</strong>的<strong>地形</strong>是<strong>海洋(Ocean)</strong>,玩家在首次进入<strong>安全区</strong>时,装备会自动获得<strong>冰霜行者</strong>的附魔.<br />
++++ <strong>6.</strong> 添加了<strong>鞍</strong>和<strong>马铠</strong>的合成表.<br />
++++ <strong>7.</strong> 手持<strong>书</strong>在<strong>金块</strong>上<strong>潜行</strong>,会将<strong>金块</strong>转化为<strong>岩浆</strong>,并生成一只<strong>必定</strong>掉落<strong>烈焰棒</strong>和<strong>地狱疣</strong>的<strong>烈焰人</strong>.<br />
++++ <strong>8.</strong> <strong>控制台</strong>输出信息将更加<strong>完整</strong>的报告战况<em>(可在配置文件中更改)</em>.</p>

<p>// <strong>TODO</strong></p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="https://klnsyf.github.io/post/java/battle-roayle-dev-log-1/">
        [Battle Royale] Dev Log 1
      </a>
    </h1>

    <span class="post-date">Tue, Feb 14, 2017</span>

    

<h3 id="关于随机散布问题的研究">关于随机散布问题的研究</h3>

<blockquote>
<p>Version: 1.7.56.734 - <strong>dev/kls</strong></p>
</blockquote>

<p>随机散布,指的是游戏开始时将玩家随机传送至战场这一过程.</p>

<hr />

<p>在 <em>1.0.0 (2016-01-20)</em> 版本中,这一过程使用的是<code>Minecraft</code>内部自带的指令 <strong><em>spreadplayers</em></strong> .</p>

<blockquote>
<p>spreadplayers [x] [z] [spreadDistance] [maxRange] [respectTeams] [player …]</p>
</blockquote>

<p>但该方法会导致两个问题:<br />
<em>1.</em> 不能设置最小传送距离,易出现某欧皇开局就在战场中央的<strong>不公平</strong>局面<br />
<em>2.</em> 必须使用<strong><code>Minecraft</code>内部</strong>的判据来选定要传送的玩家<br />
因此并不能很好地满足我们<strong>公平公正公开</strong>的要求.<br />
// 总是在测试的时候被人说是开挂. 明明就是我有纯正的欧洲血统<strong>╭(╯^╰)╮</strong></p>

<hr />

<p>于是,在 <em>1.2.0 (2016-02-10)</em> 版本中,对于随机散布的方法进行了变更.<br />
使用了 <strong><em>java.util.Random</em></strong> 中提供的方法.<br />
生成3个随机数,其中两个分别控制x和z轴上的位置,另一个控制所在象限.<br />
通过控制随机数的生成范围,已经可以做到控制<strong>最小传送距离</strong>.<br />
但该方法同样会导致两个问题:<br />
<em>1.</em> 这种随机下的PDF并不是以原点向外<strong>均匀</strong>分布.<br />
<em>2.</em> 难以控制传送目标之间的距离.<br />
// 实际上,第二点通过增加尝试数是可以得到解决的,但起初的改动出现了一点<strong>小</strong>问题.<br />
// ↑ 然而<strong>最重要</strong>的是…… 仍然出现有人两个坐标都是最小值(没错就是我),而某人两个坐标都是最大值的情况.</p>

<hr />

<p>然后,直到 <em>1.5.0 (2016-08-04)</em> 版本,我再次改动了随机散布的算法.<br />
不同于以往的是,这次的要求更加的明确:<br />
1. 所有玩家被传送后到原点的距离均为 <strong><em>spreadDistance</em></strong>.<br />
2. 所有玩家在x,z轴上的坐标的绝对值不小于<strong><em>minRange</em></strong>, 不大于<strong><em>maxRange</em></strong>.<br />
3. 任意两个玩家间的距离不小于 <strong><em>space</em></strong>.<br />
<code><pre>
    ArrayList<Double> spreadAttempt(int attempt) {
        // 计算符合 minRange 要求的最小弧度值.
        double minRadian = Math.asin(minRange / spreadDistance);
        // 随机生成若干个符合 spreadDistance 要求的点.(画圆)
        double[] randomRadian = new double[attempt];
        for (int index = 0; index &lt; attempt; index++) {
            randomRadian[index] = (new Random()).nextDouble() * 2 * Math.PI;
        }
        ArrayList<Double> legalRadian = new ArrayList<Double>();
        // 舍弃不符合要求的弧度值.
        for (double radian : randomRadian) {
            if ((0 &lt;= radian &amp;&amp; radian &lt; minRadian)
                    || (0.5 * Math.PI - minRadian &lt; radian &amp;&amp; radian &lt; 0.5 * Math.PI + minRadian)
                    || (Math.PI - minRadian &lt; radian &amp;&amp; radian &lt; Math.PI + minRadian)
                    || (1.5 * Math.PI - minRadian &lt; radian &amp;&amp; radian &lt; 1.5 * Math.PI + minRadian)
                    || (2 * Math.PI - minRadian &lt; radian &amp;&amp; radian &lt;= 2 * Math.PI)
                    || spreadSpaceTest(radian, legalRadian)) {
            } else {
                legalRadian.add(radian);
            }
        }
        return legalRadian;
    }
    // 判断两个弧度值间是否符合 space 要求.
    boolean spreadSpaceTest(double testRadian, ArrayList<Double> radianArray) {
        double minRadianSpace = 2 * Math.asin(minRange / 2 / spreadDistance);
        boolean test = false;
        for (double radian : radianArray) {
            if (Math.abs(testRadian - radian) &lt; minRadianSpace) {
                test = true;
            }
        }
        return test;
    }
</code></pre>
此次改动效果<strong>拔群</strong>,再也没有人吐槽我作弊了.(手动斜眼)</p>

<hr />

<p>在 <em>1.5.2 (2016-08-14)</em> 版本,我进行了一些微调.<br />
比如防止出生点在大海中,或者是直接出生在峡谷或悬崖上这种根本<strong>无法开局</strong>的地形.<br />
此后在 <em>1.5.*</em> 版本中,增加了战场<strong>预加载</strong>的功能,改变了地形生成方式,因此对于随机散布的目的地要求进一步提高.</p>

<hr />

<p>于是就到了 <em>1.6.0 (2016-10-03)</em> 版本.<br />
该版本出现了一个<strong>重要特性</strong>(<code>Bug</code>),即在10次随机散布中,接近会有<strong>一半</strong>的概率<strong>失败</strong>.<br />
这不是因为错误的参数设置,只是纯粹的因为Ban掉了过多的地形……<br />
于是临时将随机散布算法回档至 <em>1.5.2 (2016-08-14)</em> 版本.</p>

<hr />

<blockquote>
<p>Version: 1.7.56.734 - dev/kls</p>
</blockquote>

<p>还没发布呢(⊙o⊙)<br />
我才不会说出来的.</p>

<p>// <strong>TODO</strong></p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="https://klnsyf.github.io/post/java/project-battle-roayle/">
        Project [Battle Royale]
      </a>
    </h1>

    <span class="post-date">Sun, Aug 14, 2016</span>

    

<blockquote>
<p>虽然我并不知道为什么时至今日我还没有写出介绍文档.<br />
但它大概<strong>很快</strong>就会写好的吧……<br />
<strong><em>It may take several minutes.</em></strong></p>
</blockquote>


<figure >
    
        <img src="/images/Battle-Royale.png" />
    
    
</figure>


<h4 id="battle-royale-是一个基于-bukkit-的-minecraft-服务器插件">[Battle Royale]是一个基于<code>Bukkit</code>的<code>Minecraft</code>服务器插件.</h4>

<p>// 你能在Github中找到其1.2.0版本的源码. 但很可惜,那已经被<strong><em>@Deprecated</em></strong>了.<br />
// <strong>TODO</strong></p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="https://klnsyf.github.io/post/timing/test/">
        Test
      </a>
    </h1>

    <span class="post-date">Mon, Jan 1, 0001</span>

    
<figure >
    
        <img src="https://maps.googleapis.com/maps/api/streetview?size=600x300&amp;location=46.414382,10.013988&amp;heading=151.78&amp;pitch=-0.76&amp;key=AIzaSyDRWhXrybzG1nv_qvsoCyA6_y-N3DMhbPc" />
    
    
</figure>


  </div>
  
</div>
</div>

  </body>
</html>
